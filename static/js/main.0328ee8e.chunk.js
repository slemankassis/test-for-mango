(this["webpackJsonptest-for-mango"]=this["webpackJsonptest-for-mango"]||[]).push([[0],{48:function(e,n,t){e.exports=t(84)},53:function(e,n,t){},54:function(e,n,t){},84:function(e,n,t){"use strict";t.r(n);var a=t(0),i=t.n(a),o=t(19),r=t.n(o),c=(t(53),t(54),t(46)),l=t(3),s=t(15),u=t(9),d=t(10),m=t(38),f=t(39),b=t(40),v=t.n(b),p=new(function(){function e(){Object(m.a)(this,e),this.api=void 0,this.api=v.a.create({baseURL:"http://demo8192803.mockable.io/"})}return Object(f.a)(e,[{key:"getExercise1Options",value:function(){return this.api.get("/exercise1")}},{key:"getExercise2Options",value:function(){return this.api.get("/exercise2")}}]),e}()),x=Object(s.b)({name:"exercise1",initialState:{isLoading:!1},reducers:{loadExercise1OptionsStart:function(e){e.isLoading=!0},loadExercise1OptionsSuccess:function(e,n){var t=n.payload;e.isLoading=!1,e.options=t.options,e.error=void 0},loadExercise1OptionsFailure:function(e,n){var t=n.payload;e.isLoading=!1,e.error=t.error}}}),g=x.reducer,h=x.actions,E=h.loadExercise1OptionsStart,O=h.loadExercise1OptionsSuccess,j=h.loadExercise1OptionsFailure,M=Object(s.b)({name:"exercise2",initialState:{isLoading:!1},reducers:{loadExercise2OptionsStart:function(e){e.isLoading=!0},loadExercise2OptionsSuccess:function(e,n){var t=n.payload;e.isLoading=!1,e.options=t.options,e.error=void 0},loadExercise2OptionsFailure:function(e,n){var t=n.payload;e.isLoading=!1,e.error=t.error}}}),w=M.reducer,N=M.actions,S=N.loadExercise2OptionsStart,L=N.loadExercise2OptionsSuccess,y=N.loadExercise2OptionsFailure,A=Object(d.b)({exercise1:g,exercise2:w}),C=Object(s.a)({reducer:A});var _,P,V,k,I=t(12),X=t(21),F=t(4),T=t(17),z=t(18),B=z.a.div(_||(_=Object(T.a)(["\n  .span-input {\n    border: none;\n    display: inline;\n    font-family: inherit;\n    font-size: inherit;\n    padding: 0;\n    width: 100%;\n    min-width: 1.5ch;\n    transition: width 0.5s;\n\n    & {\n      -moz-appearance: textfield;\n    }\n    &::-webkit-inner-spin-button,\n    &::-webkit-outer-spin-button {\n      -webkit-appearance: none;\n      margin: 0;\n    }\n\n    &:disabled {\n      color: inherit;\n    }\n\n    &:focus {\n      border: none;\n      outline: none;\n    }\n  }\n"]))),D=function(e){var n=e.value,t=e.unit,o=e.onChange,r=e.disabled,c=e.ariaLabel,l=Object(a.useState)(n.toString()),s=Object(I.a)(l,2),u=s[0],d=s[1];Object(a.useEffect)((function(){d(n.toString())}),[n]);var m=function(e){d(e.target.value),isNaN(e.target.valueAsNumber)||o&&o(e)};return i.a.createElement(B,null,i.a.createElement("input",{className:"span-input",type:"number",value:u,"aria-label":c,onChange:function(e){return m(e)},onBlur:function(e){d(n.toString())},style:{width:"".concat(u.toString().length,"ch")},disabled:r}),i.a.createElement("span",null,t))};function U(e){var n=Object(X.a)(e).sort((function(e,n){return e-n})),t=100/(n[n.length-1]-n[0]);return n.map((function(e){return{value:e,percent:(e-n[0])*t}}))}function J(e,n){return n.reduce((function(n,t){return Math.abs(t.percent-e)<Math.abs(n.percent-e)?t:n}))}function R(e,n){return n.reduce((function(n,t){return Math.abs(t.value-e)<Math.abs(n.value-e)?t:n}))}!function(e){e[e.MIN=0]="MIN",e[e.MAX=1]="MAX"}(k||(k={}));var W,q=z.a.div(P||(P=Object(T.a)(["\n  .range {\n    display: flex;\n    user-select: none;\n    padding: 1em 0;\n\n    &.m-disabled {\n      position: relative;\n      opacity: 0.6;\n\n      &::before {\n        content: '';\n        position: absolute;\n        z-index: 2;\n        cursor: not-allowed;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n      }\n\n      & > * {\n        pointer-events: none;\n      }\n    }\n\n    &__boundaries {\n      max-width: 100%;\n    }\n\n    &__bar {\n      flex-grow: 1;\n      position: relative;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      margin: 0 1em;\n      min-width: 100px;\n\n      &__control {\n        position: absolute;\n      }\n\n      &__rail {\n        border-radius: 5px;\n        height: 5px;\n        background-color: #000;\n      }\n    }\n  }\n"]))),G=z.a.div(V||(V=Object(T.a)(["\n  cursor: grab;\n  width: 1.25em;\n  height: 1.25em;\n  border-radius: 100%;\n  background-color: #000;\n  transform: translate(-50%, 0);\n  transition: width 0.25s, height 0.25s;\n  touch-action: none;\n\n  &:hover {\n    width: 2.25em;\n    height: 2.25em;\n  }\n\n  &:active {\n    cursor: grabbing;\n  }\n"]))),H=function(e){var n=e.options,t=e.value,o=e.onChange,r=e.unit,c=e.disabled,l=Object(a.useRef)(null),s=Object(a.useState)({inputEditable:!0,limitMin:0,limitMax:0,options:[],released:!0,minPos:0,maxPos:100,disabled:!1,minVal:0,maxVal:0,lastActiveControl:void 0}),u=Object(I.a)(s,2),d=u[0],m=u[1];Object(a.useEffect)((function(){var e,a=!1;if(n){if(Array.isArray(n))a=!1,e=U(n);else{if(!n||isNaN(null===n||void 0===n?void 0:n.max)||isNaN(null===n||void 0===n?void 0:n.min))throw new Error("options must be number[] or {min: number, max: number}");for(var i=Math.min(n.min,n.max),o=Math.max(n.min,n.max),r=[],l=i;l<=o;l++)r=[].concat(Object(X.a)(r),[l]);a=!0,e=U(r)}if(e){var s,u,d,f,b=null===(s=e[0])||void 0===s?void 0:s.value,v=null===(u=e[e.length-1])||void 0===u?void 0:u.value,p=null!==(d=null===t||void 0===t?void 0:t.min)&&void 0!==d?d:b,x=null!==(f=null===t||void 0===t?void 0:t.max)&&void 0!==f?f:v;m((function(n){return Object(F.a)(Object(F.a)({},n),{},{limitMin:b,limitMax:v,minVal:p,maxVal:x,maxPos:R(x,e).percent,minPos:R(p,e).percent,inputEditable:a,options:e,disabled:!!c})}))}}else m((function(e){return Object(F.a)(Object(F.a)({},e),{},{disabled:!0,inputEditable:!1})}))}),[n,t,c]);var f=function(e){m((function(n){return Object(F.a)(Object(F.a)({},n),{},{released:!1,lastActiveControl:e})}))},b=function(e){if(!d.released&&l.current){var n=l.current.offsetLeft,t=100/(l.current.clientWidth/((e.nativeEvent instanceof TouchEvent?e.touches[0].clientX:e.nativeEvent instanceof MouseEvent?e.clientX:0)-n)),a=t;if(t>100?a=100:t<0&&(a=0),d.lastActiveControl===k.MIN){a>d.maxPos&&(a=d.maxPos);var i=J(a,d.options);m((function(e){return Object(F.a)(Object(F.a)({},e),{},{minPos:a,lastActiveControl:k.MIN,minVal:i.value})}))}else if(d.lastActiveControl===k.MAX){a<d.minPos&&(a=d.minPos);var o=J(a,d.options);m((function(e){return Object(F.a)(Object(F.a)({},e),{},{maxPos:a,lastActiveControl:k.MAX,maxVal:o.value})}))}}},v=function(){if(!d.released){var e=J(d.minPos,d.options),n=J(d.maxPos,d.options);m((function(t){return Object(F.a)(Object(F.a)({},t),{},{released:!0,minPos:e.percent,maxPos:n.percent,minVal:e.value,maxVal:n.value})})),p({min:e.value,max:n.value})}};!function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(a.useEffect)((function(){return window.addEventListener(e,n,t),function(){window.removeEventListener(e,n)}}))}("mouseup",v);var p=function(e){o&&o(e)};return i.a.createElement(q,null,i.a.createElement("div",{className:"range ".concat(d.disabled?"m-disabled":""),onMouseMove:function(e){b(e)},onTouchMove:function(e){b(e)},onTouchEnd:v,onTouchCancel:v,"aria-label":"range-selector"},i.a.createElement(D,{value:d.minVal,onChange:function(e){var n=e.target.valueAsNumber;n>d.maxVal&&(n=d.maxVal);var t=R(n,d.options);m((function(e){return Object(F.a)(Object(F.a)({},e),{},{minPos:t.percent,minVal:t.value,lastActiveControl:k.MIN})})),p({max:d.maxVal,min:t.value})},unit:r,disabled:!d.inputEditable||c,ariaLabel:"range input min"}),i.a.createElement("div",{className:"range__bar",ref:l},i.a.createElement(G,{"aria-label":"range control min",onMouseDown:function(){f(k.MIN)},onTouchStart:function(){f(k.MIN)},className:"range__bar__control m-min",style:{zIndex:d.lastActiveControl===k.MIN?1:0,left:"".concat(d.minPos,"%")}}),i.a.createElement(G,{"aria-label":"range control max",onMouseDown:function(){f(k.MAX)},onTouchStart:function(){f(k.MAX)},className:"range__bar__control m-max",style:{zIndex:d.lastActiveControl===k.MAX?1:0,left:"".concat(d.maxPos,"%")}}),i.a.createElement("div",{className:"range__bar__rail"})),i.a.createElement(D,{value:d.maxVal,onChange:function(e){var n=e.target.valueAsNumber;n<d.minVal&&(n=d.minVal);var t=R(n,d.options);m((function(e){return Object(F.a)(Object(F.a)({},e),{},{maxPos:t.percent,maxVal:t.value,lastActiveControl:k.MAX})})),p({max:t.value,min:d.minVal})},unit:r,disabled:!d.inputEditable||c,ariaLabel:"range input max"})))},K=t(44),Q=t.n(K),Y=t(95),Z=Object(Y.a)({alert:{color:"#fff",padding:"0.5em 0.5em 0.3em"},error:{backgroundColor:"#ff4444",boxShadow:"0 8px #cc0000"},info:{backgroundColor:"#33b5e5",boxShadow:"0 8px #0099cc"}});!function(e){e.error="m-error",e.info="m-info"}(W||(W={}));var $=function(e){var n=e.children,t=e.type,a=Z();return n?i.a.createElement("div",{className:Q()(alert,a[t])},n):null},ee=function(e){return{options:e.exercise1.options,isLoading:e.exercise1.isLoading,error:e.exercise1.error}},ne=function(){var e=Object(a.useState)(),n=Object(I.a)(e,2),t=n[0],o=n[1],r=Object(u.b)(),c=Object(u.c)(ee);return Object(a.useEffect)((function(){r((function(e){return e(E()),p.getExercise1Options().then((function(n){return e(O({options:n.data}))})).catch((function(n){return e(j({error:n.message||"Unknown error"}))}))}))}),[r]),i.a.createElement("div",{className:"exercise1"},i.a.createElement("span",null,"Exercise 1"),i.a.createElement(H,{options:c.options,value:t,onChange:function(e){o(e)},unit:"\u20ac"}),i.a.createElement($,{type:"error"},c.error),i.a.createElement($,{type:"info"},c.isLoading?"Loading...":null),void 0!==t&&i.a.createElement("p",null,"Selected values: ",null===t||void 0===t?void 0:t.min," - ",null===t||void 0===t?void 0:t.max))},te=function(e){return{options:e.exercise2.options,isLoading:e.exercise2.isLoading,error:e.exercise2.error}},ae=function(){var e=Object(a.useState)(),n=Object(I.a)(e,2),t=n[0],o=n[1],r=Object(u.b)(),c=Object(u.c)(te);return Object(a.useEffect)((function(){r((function(e){return e(S()),p.getExercise2Options().then((function(n){return e(L({options:n.data.rangeValues}))})).catch((function(n){return e(y({error:n.message||"Unknown error"}))}))}))}),[r]),i.a.createElement("div",{className:"exercise2"},i.a.createElement("span",null,"Exercise 2"),i.a.createElement($,{type:"error"},c.error),i.a.createElement($,{type:"info"},c.isLoading?"Loading...":null),i.a.createElement(H,{options:c.options,value:t,onChange:function(e){o(e)},unit:"\u20ac"}),void 0!==t&&i.a.createElement("p",null,"Selected values: ",null===t||void 0===t?void 0:t.min," - ",null===t||void 0===t?void 0:t.max))};var ie=function(){return i.a.createElement(u.a,{store:C},i.a.createElement(c.a,null,i.a.createElement(l.d,null,i.a.createElement(l.b,{exact:!0,path:"/"},i.a.createElement(l.a,{to:{pathname:"/exercise1"}})),i.a.createElement(l.b,{exact:!0,path:"/exercise1",component:ne}),i.a.createElement(l.b,{exact:!0,path:"/exercise2",component:ae}),i.a.createElement(l.b,{path:"*",component:function(){return i.a.createElement("span",null,"404")}}))))},oe=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,96)).then((function(n){var t=n.getCLS,a=n.getFID,i=n.getFCP,o=n.getLCP,r=n.getTTFB;t(e),a(e),i(e),o(e),r(e)}))};r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(ie,null)),document.getElementById("root")),oe()}},[[48,1,2]]]);
//# sourceMappingURL=main.0328ee8e.chunk.js.map